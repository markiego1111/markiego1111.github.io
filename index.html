<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Event UK Demo - Source Entertainment Simulator</title>
  <style>
    body { font-family: sans-serif; margin: 2rem; background: #f9f9f9; }
    h2 { color: #333; }
    .section { margin-bottom: 2.5rem; }
    label { display: block; font-weight: bold; margin-bottom: 1rem; }
    .tags { display: flex; flex-wrap: wrap; gap: 0.5rem; }
    .tag {
      padding: 0.5rem 1rem;
      background: #e0e0e0;
      border-radius: 2rem;
      cursor: pointer;
    }
    .tag.selected { background: #0D9487; color: white; }
    textarea {
      width: 100%;
      height: 100px;
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
    }
    button {
      padding: 0.75rem 2rem;
      font-size: 1rem;
      background: #0D9487;
      color: white;
      border: none;
      cursor: pointer;
    }
    .output {
      background: #fff;
      padding: 1rem;
      border: 1px solid #ccc;
      margin-top: 1rem;
    }
    .helper-text {
      color: #0D9487;
      font-weight: bold;
      margin-bottom: 0.25rem;
    }
    .hint {
      font-size: 0.9rem;
      color: #444;
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <h2>Event UK: Source Entertainment Simulator</h2>

  <div class="section">
    <label>Entertainment Type</label>
    <div class="tags" id="entertainmentType"></div>
  </div>

  <div class="section">
    <label>Music Style (up to 5)</label>
    <div class="tags" id="musicStyle"></div>
  </div>

  <div class="section">
    <label>DJ Style (up to 5)</label>
    <div class="tags" id="djStyle"></div>
  </div>

  <div class="section">
    <label>Equipment</label>
    <div class="tags" id="equipment"></div>
  </div>

  <div class="section">
    <label>Describe your event</label>
    <div class="helper-text">Things to include:</div>
    <div class="hint">What's the occasion? Who's the crowd? What's the vibe? Any music genres you don't want played?</div>
    <textarea id="eventDescription" placeholder="Thursday evening, mostly young professionals..." ></textarea>
  </div>

  <button onclick="submitForm()">Generate Brief</button>

  <div class="output" id="outputArea"></div>

  <script>
    const tagData = {
      entertainmentType: ["DJ", "Live Music", "Karaoke", "Quiz", "Tribute", "Drag", "Bingo", "Childrens Entertainer", "Bandeoke", "Magician", "Open Mic Host", "Poker", "Comedy", "Santa"],
      musicStyle: ["70s", "80s", "90s", "00s", "Current Hits", "Britpop", "Dance", "Disco", "Electronic", "Funk", "Hip Hop", "House", "Indie", "Motown", "Pop", "R&B", "Rock", "Soul"],
      djStyle: ["Personality DJ", "No Mic Work", "Some Mic Work", "No Requests", "Take Requests", "Beat Mixing", "Keep 'em Singing", "Keep 'em Dancing", "Older Audience", "Younger Audience", "None"],
      equipment: ["Laptop, Decks & Mixer", "PA System", "Lights", "Full Mobile Rig", "None"]
    };

    const maxMusic = 5, maxStyle = 5;

    function renderTags(containerId, items, max = null, single = false) {
      const container = document.getElementById(containerId);
      items.forEach(item => {
        const el = document.createElement('div');
        el.className = 'tag';
        el.innerText = item;
        el.onclick = () => {
          if (single) {
            container.querySelectorAll('.tag').forEach(t => t.classList.remove('selected'));
            el.classList.add('selected');
          } else {
            if (el.classList.contains('selected')) {
              el.classList.remove('selected');
            } else {
              if (max && container.querySelectorAll('.selected').length >= max) return;
              el.classList.add('selected');
            }
          }
        };
        container.appendChild(el);
      });
    }

    function getSelectedText(containerId) {
      return [...document.getElementById(containerId).querySelectorAll('.selected')].map(el => el.innerText);
    }

    function submitForm() {
      const type = getSelectedText('entertainmentType');
      const music = getSelectedText('musicStyle');
      const style = getSelectedText('djStyle');
      const equipment = getSelectedText('equipment');
      const desc = document.getElementById('eventDescription').value || 'Thursday evening, mostly young professionals. Can potentially be outside.';

      const output = `
        <h3>Generated Brief</h3>
        <p><strong>Title:</strong> ${type[0] || 'DJ'} for Bear and Ragged Staff</p>
        <p><strong>Music:</strong> ${music.join(', ')}</p>
        <p><strong>Style:</strong> ${style.join(', ')}</p>
        <p><strong>Equipment:</strong> ${equipment.join(', ')}</p>
        <p><strong>Description:</strong> ${desc}</p>
      `;

      document.getElementById('outputArea').innerHTML = output;
    }

    renderTags('entertainmentType', tagData.entertainmentType, 1, true);
    renderTags('musicStyle', tagData.musicStyle, maxMusic);
    renderTags('djStyle', tagData.djStyle, maxStyle);
    renderTags('equipment', tagData.equipment);
  </script>
</body>
</html>
